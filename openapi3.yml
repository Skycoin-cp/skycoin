openapi: 3.0.0
info:
  contact:
    email: skycoin.doe@example.com
    name: Skycoin project
    url: http://127.0.0.1:6420
  description: Skycoin is a next-generation cryptocurrency.
  title: Skycoin REST API.
  version: 0.25.1
servers:
- url: http://127.0.0.1:6420
  description: Local server.
- url: https://staging.node.skycoin.net
  description: Developer server.
- url: https://www.skycoin.net
  description: Developer server.
components:
  schemas:
    blockVerbose:
      properties:
        body:
          properties:
            txns:
              items:
                properties:
                  fee:
                    format: int32
                    type: integer
                  hash:
                    type: string
                  inner_hash:
                    type: string
                  inputs:
                    items:
                      properties:
                        calculated_hours:
                          format: int64
                          type: integer
                        coins:
                          type: string
                        dst:
                          type: string
                        hours:
                          format: int64
                          type: integer
                        uxid:
                          type: string
                    type: array
                  length:
                    format: int32
                    type: integer
                  outputs:
                    items:
                      properties:
                        coins:
                          type: string
                        dst:
                          type: string
                        hours:
                          format: int64
                          type: integer
                        uxid:
                          type: string
                    type: array
                  sigs:
                    items:
                      type: string
                    type: array
                  type:
                    format: int32
                    type: integer
              type: array
          type: object
        header:
          properties:
            block_hash:
              type: string
            fee:
              format: int32
              type: integer
            previous_block_hash:
              type: string
            seq:
              format: int32
              type: integer
            timestamp:
              format: int64
              type: integer
            tx_body_hash:
              type: string
            ux_hash:
              type: string
            version:
              format: int32
              type: integer
          type: object
        size:
          format: int32
          type: integer
    block:
      properties:
        body:
          properties:
            txns:
              items:
                properties:
                  timestamp:
                    format: int64
                    type: integer
                  txid:
                    type: string
                  inner_hash:
                    type: string
                  inputs:
                    items:
                      type: string
                    type: array
                  length:
                    format: int32
                    type: integer
                  outputs:
                    items:
                      properties:
                        coins:
                          type: string
                        dst:
                          type: string
                        hours:
                          format: int64
                          type: integer
                        uxid:
                          type: string
                    type: array
                  sigs:
                    items:
                      type: string
                    type: array
                  type:
                    format: int32
                    type: integer
              type: array
          type: object
        header:
          properties:
            block_hash:
              type: string
            fee:
              format: int32
              type: integer
            previous_block_hash:
              type: string
            seq:
              format: int32
              type: integer
            timestamp:
              format: int64
              type: integer
            tx_body_hash:
              type: string
            ux_hash:
              type: string
            version:
              format: int32
              type: integer
          type: object
        size:
          format: int32
          type: integer
    buildInfo:
      description: BuildInfo represents the build info
      type: object
      properties:
        branch:
          description: git branch name
          type: string
        commit:
          description: git commit id
          type: string
        version:
          description: version number
          type: string
    coinSupply:
      description: CoinSupply records the coin supply info.
      type: object
      properties:
        current_coinhour_supply:
          description: CurrentCoinHourSupply is coins hours in non distribution addresses.
          type: string
        current_supply:
          description: Coins distributed beyond the project.
          type: string
        locked_distribution_addresses:
          description: Distribution addresses which are locked and do not count towards
            total supply.
          items:
            type: string
          type: array
        max_supply:
          description: MaxSupply is the maximum number of coins to be distributed ever.
          type: string
        total_coinhour_supply:
          description: TotalCoinHourSupply is coin hours in all addresses including
            unlocked distribution addresses.
          type: string
        total_supply:
          description: TotalSupply is CurrentSupply plus coins held by the distribution
            addresses that are spendable.
          type: string
        unlocked_distribution_addresses:
          description: Distribution addresses which count towards total supply.
          items:
            type: string
          type: array
    genericError:
      description: |-
        A GenericError is the default error message that is generated.
        For certain status codes there are more appropriate error structures.
      properties:
        code:
          format: int32
          type: integer
          x-go-name: Code
        message:
          type: string
          x-go-name: Message
      type: object
    pendingTxsVerbose:
      items:
        properties:
          announced:
            type: string
          checked:
            type: string
          is_valid:
            type: boolean
          received:
            type: string
          transaction:
            description: BlockTransactionVerbose has readable transaction data
              for transactions inside a block. It differs from Transaction in
              that it includes metadata for transaction inputs and the calculated
              coinhour fee spent by the block
            properties:
              fee:
                format: int32
                type: integer
              hash:
                type: string
              inner_hash:
                type: string
              inputs:
                items:
                  properties:
                    calculated_hours:
                      format: int64
                      type: integer
                    coins:
                      type: string
                    dst:
                      type: string
                    hours:
                      format: int64
                      type: integer
                    uxid:
                      type: string
                type: array
              length:
                format: int32
                type: integer
              outputs:
                items:
                  properties:
                    coins:
                      type: string
                    dst:
                      type: string
                    hours:
                      format: int64
                      type: integer
                    uxid:
                      type: string
                type: array
              sigs:
                items:
                  type: string
                type: array
              type:
                format: int32
                type: integer
            type: object
      type: array
    pendingTxs:
      items:
        properties:
          announced:
            type: string
          checked:
            type: string
          is_valid:
            type: boolean
          received:
            type: string
          transaction:
            properties:
              txid:
                type: string
              inner_hash:
                type: string
              inputs:
                items:
                  type: string
                type: array
              length:
                format: int32
                type: integer
              timestamp:
                format: int64
                type: integer
              outputs:
                items:
                  properties:
                    coins:
                      type: string
                    dst:
                      type: string
                    hours:
                      format: int64
                      type: integer
                    uxid:
                      type: string
                type: array
              sigs:
                items:
                  type: string
                type: array
              type:
                format: int32
                type: integer
            type: object
      type: array
    blocksVerbose:
      description: "This return Blocks Verbose"
      properties:
        blocks:
          items:
            properties:
              body:
                items:
                  properties:
                    fee:
                      format: int32
                      type: integer
                    hash:
                      type: string
                    inner_hash:
                      type: string
                    inputs:
                      items:
                        properties:
                          calculated_hours:
                            format: int64
                            type: integer
                          coins:
                            type: string
                          dst:
                            type: string
                          hours:
                            format: int64
                            type: integer
                          uxid:
                            type: string
                      type: array
                    length:
                      format: int32
                      type: integer
                    outputs:
                      items:
                        properties:
                          coins:
                            type: string
                          dst:
                            type: string
                          hours:
                            format: int64
                            type: integer
                          uxid:
                            type: string
                      type: array
                    sigs:
                      items:
                        type: string
                      type: array
                    type:
                      format: int32
                      type: integer
                type: array
              header:
                properties:
                  block_hash:
                    type: string
                  fee:
                    format: int64
                    type: integer
                  previous_block_hash:
                    type: string
                  seq:
                    format: int64
                    type: integer
                  timestamp:
                    format: int64
                    type: integer
                  tx_body_hash:
                    type: string
                  ux_hash:
                    type: string
                  version:
                    format: int32
                    type: integer
                type: object
              size:
                format: int32
                type: integer
          type: array
    blocks:
      description: "This return Blocks Verbose"
      properties:
        blocks:
          items:
            properties:
              body:
                properties:
                  txns:
                    items:
                      properties:
                        txid:
                          type: string
                        inner_hash:
                          type: string
                        inputs:
                          items:
                            type: string
                          type: array
                        length:
                          format: int32
                          type: integer
                        outputs:
                          items:
                            properties:
                              coins:
                                type: string
                              dst:
                                type: string
                              hours:
                                format: int64
                                type: integer
                              uxid:
                                type: string
                          type: array
                        sigs:
                          items:
                            type: string
                          type: array
                        type:
                          format: int32
                          type: integer
                    type: array
              header:
                properties:
                  block_hash:
                    type: string
                  fee:
                    format: int64
                    type: integer
                  previous_block_hash:
                    type: string
                  seq:
                    format: int64
                    type: integer
                  timestamp:
                    format: int64
                    type: integer
                  tx_body_hash:
                    type: string
                  ux_hash:
                    type: string
                  version:
                    format: int32
                    type: integer
                type: object
              size:
                format: int32
                type: integer
          type: array
  securitySchemes:
    csrfAuth:
      in: header
      name: X-CSRF-TOKEN
      type: apiKey
paths:
  /api/v1/blocks:
    get:
      description: Or an explicit list of sequences. If using start and end, the block sequences include both the start and end point. Explicit sequences cannot be combined with start and end.
      operationId: blocksGet
      parameters:
      - in: query
        description: include verbose
        name: verbose
        schema:
          default: true
          type: boolean
      - in: query
        name: start
        schema:
          type: integer
      - in: query
        name: end
        schema:
          type: integer
      - in: query
        name: seqs
        schema:
          items:
            type: integer
          type: array
      responses:
        "200":
          description: Returns blocks between a start and end point.
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/blocksVerbose'
                - $ref: '#/components/schemas/blocks'
        default:
          $ref: '#/components/schemas/genericError'
      summary: blocksHandler returns blocks between a start and end point,
    post:
      description: |-
        or an explicit list of sequences.
        If using start and end, the block sequences include both the start and end point.
        Explicit sequences cannot be combined with start and end.
      operationId: blocksPost
      parameters:
      - in: query
        description: include verbose
        name: verbose
        schema:
          default: true
          type: boolean
      - in: query
        name: start
        schema:
          type: integer
      - in: query
        name: end
        schema:
          type: integer
      - in: query
        name: seqs
        schema:
          items:
            type: integer
          type: array
      responses:
        "200":
          description: Returns blocks between a start and end point.
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/blocksVerbose'
                - $ref: '#/components/schemas/blocks'
        default:
          $ref: '#/components/schemas/genericError'
      security:
      - csrfAuth: []
      summary: blocksHandler returns blocks between a start and end point,
  /api/v1/last_blocks:
    get:
      description: Returns the most recent N blocks on the blockchain
      operationId: lastBlocks
      parameters:
      - in: query
        description: include verbose
        name: verbose
        schema:
          default: true
          type: boolean
      - in: query
        name: num
        required: true
        schema:
          type: integer
      responses:
        "200":
          description: Returns blocks between a start and end point.
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/blocksVerbose'
                - $ref: '#/components/schemas/blocks'
        default:
          description: This is the default response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/genericError'
  /api/v1/pendingTxs:
    get:
      description: Returns pending (unconfirmed) transactions
      operationId: pendingTxs
      parameters:
      - in: query
        description: include verbose transaction input data
        name: verbose
        schema:
          default: true
          type: boolean
      responses:
        "200":
          description: Returns a transaction identified by its txid hash.
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/pendingTxsVerbose'
                - $ref: '#/components/schemas/pendingTxs'
        default:
          $ref: '#/components/schemas/genericError'
  /api/v1/transaction:
    get:
      description: Returns a transaction identified by its txid hash
      operationId: transaction
      parameters:
      - in: query
        name: txid
        description: transaction hash
        required: true
        schema:
          type: string
      - in: query
        description: return as a raw encoded transaction.
        name: encoded
        schema:
          type: boolean
      - in: query
        description: include verbose transaction input data
        name: verbose
        schema:
          type: boolean
          default: true
      responses:
        "200":
          description: Returns a transaction identified by its txid hash.
          content:
            application/json:
              schema:
                properties:
                  status:
                    properties:
                      block_seq:
                        description: If confirmed, the sequence of the block in which
                          the transaction was executed
                        format: int64
                        type: integer
                      confirmed:
                        type: boolean
                      height:
                        description: If confirmed, how many blocks deep in the chain it
                          is. Will be at least 1 if confirmed
                        format: int64
                        type: integer
                      unconfirmed:
                        type: boolean
                    type: object
                  time:
                    format: int64
                    type: integer
                  txn:
                    description: TransactionVerbose has readable transaction data. It
                      adds TransactionStatus to a BlockTransactionVerbose
                    properties:
                      fee:
                        format: int32
                        type: integer
                      hash:
                        type: string
                      inner_hash:
                        type: string
                      inputs:
                        items:
                          properties:
                            calculated_hours:
                              format: int64
                              type: integer
                            coins:
                              type: string
                            dst:
                              type: string
                            hours:
                              format: int64
                              type: integer
                            uxid:
                              type: string
                        type: array
                      length:
                        format: int32
                        type: integer
                      outputs:
                        items:
                          properties:
                            coins:
                              type: string
                            dst:
                              type: string
                            hours:
                              format: int64
                              type: integer
                            uxid:
                              type: string
                        type: array
                      sigs:
                        items:
                          type: string
                        type: array
                      status:
                        properties:
                          block_seq:
                            description: If confirmed, the sequence of the block in which
                              the transaction was executed
                            format: int64
                            type: integer
                          confirmed:
                            type: boolean
                          height:
                            description: If confirmed, how many blocks deep in the chain
                              it is. Will be at least 1 if confirmed
                            format: int64
                            type: integer
                          unconfirmed:
                            type: boolean
                        type: object
                      timestamp:
                        format: int64
                        type: integer
                      type:
                        format: int32
                        type: integer
                    type: object
        default:
          $ref: '#/components/schemas/genericError'
  /api/v1/transactions:
    get:
      operationId: transactionsGet
      parameters:
      - in: query
        description: command separated list of addresses
        name: addrs
        schema:
          type: string
      - in: query
        description: Whether the transactions should be confirmed [optional, must
          be 0 or 1; if not provided, returns all]
        name: confirmed
        schema:
          type: string
      - in: query
        description: include verbose transaction input data
        name: verbose
        schema:
          default: true
          type: boolean
      responses:
        "200":
          description: Returns transactions that match the filters.
          content:
            application/json:
              schema:
                items:
                  properties:
                    status:
                      properties:
                        block_seq:
                          description: If confirmed, the sequence of the block in which
                            the transaction was executed
                          format: int64
                          type: integer
                        confirmed:
                          type: boolean
                        height:
                          description: If confirmed, how many blocks deep in the chain
                            it is. Will be at least 1 if confirmed
                          format: int64
                          type: integer
                        unconfirmed:
                          type: boolean
                      type: object
                    time:
                      format: int64
                      type: integer
                    txn:
                      description: TransactionVerbose has readable transaction data. It
                        adds TransactionStatus to a BlockTransactionVerbose
                      properties:
                        fee:
                          format: int32
                          type: integer
                        hash:
                          type: string
                        inner_hash:
                          type: string
                        inputs:
                          items:
                            properties:
                              calculated_hours:
                                format: int64
                                type: integer
                              coins:
                                type: string
                              dst:
                                type: string
                              hours:
                                format: int64
                                type: integer
                              uxid:
                                type: string
                          type: array
                        length:
                          format: int32
                          type: integer
                        outputs:
                          items:
                            properties:
                              coins:
                                type: string
                              dst:
                                type: string
                              hours:
                                format: int64
                                type: integer
                              uxid:
                                type: string
                          type: array
                        sigs:
                          items:
                            type: string
                          type: array
                        status:
                          properties:
                            block_seq:
                              description: If confirmed, the sequence of the block in
                                which the transaction was executed
                              format: int64
                              type: integer
                            confirmed:
                              type: boolean
                            height:
                              description: If confirmed, how many blocks deep in the chain
                                it is. Will be at least 1 if confirmed
                              format: int64
                              type: integer
                            unconfirmed:
                              type: boolean
                          type: object
                        timestamp:
                          format: int64
                          type: integer
                        type:
                          format: int32
                          type: integer
                      type: object
                type: array
        default:
          $ref: '#/components/schemas/genericError'
      summary: Returns transactions that match the filters.
    post:
      operationId: transactionsPost
      parameters:
      - in: query
        description: command separated list of addresses
        name: addrs
        schema:
          type: string
      - in: query
        description: Whether the transactions should be confirmed [optional, must
          be 0 or 1; if not provided, returns all]
        name: confirmed
        schema:
          type: string
      - in: query
        description: include verbose transaction input data
        name: verbose
        schema:
          default: true
          type: boolean
      responses:
        "200":
          description: Returns transactions that match the filters.
          content:
            application/json:
              schema:
                items:
                  properties:
                    status:
                      properties:
                        block_seq:
                          description: If confirmed, the sequence of the block in which
                            the transaction was executed
                          format: int64
                          type: integer
                        confirmed:
                          type: boolean
                        height:
                          description: If confirmed, how many blocks deep in the chain
                            it is. Will be at least 1 if confirmed
                          format: int64
                          type: integer
                        unconfirmed:
                          type: boolean
                      type: object
                    time:
                      format: int64
                      type: integer
                    txn:
                      description: TransactionVerbose has readable transaction data. It
                        adds TransactionStatus to a BlockTransactionVerbose
                      properties:
                        fee:
                          format: int32
                          type: integer
                        hash:
                          type: string
                        inner_hash:
                          type: string
                        inputs:
                          items:
                            properties:
                              calculated_hours:
                                format: int64
                                type: integer
                              coins:
                                type: string
                              dst:
                                type: string
                              hours:
                                format: int64
                                type: integer
                              uxid:
                                type: string
                          type: array
                        length:
                          format: int32
                          type: integer
                        outputs:
                          items:
                            properties:
                              coins:
                                type: string
                              dst:
                                type: string
                              hours:
                                format: int64
                                type: integer
                              uxid:
                                type: string
                          type: array
                        sigs:
                          items:
                            type: string
                          type: array
                        status:
                          properties:
                            block_seq:
                              description: If confirmed, the sequence of the block in
                                which the transaction was executed
                              format: int64
                              type: integer
                            confirmed:
                              type: boolean
                            height:
                              description: If confirmed, how many blocks deep in the chain
                                it is. Will be at least 1 if confirmed
                              format: int64
                              type: integer
                            unconfirmed:
                              type: boolean
                          type: object
                        timestamp:
                          format: int64
                          type: integer
                        type:
                          format: int32
                          type: integer
                      type: object
                type: array
        default:
          $ref: '#/components/schemas/genericError'
      security:
      - csrfAuth: []
      summary: Returns transactions that match the filters.
  /api/v1/wallet/transactions:
    get:
      operationId: walletTransactions
      parameters:
      - in: query
        description: Wallet id.
        name: id
        required: true
        schema:
          type: string
      - in: query
        description: include verbose transaction input data
        name: verbose
        schema:
          default: true
          type: boolean
      responses:
        "200":
          description: Returns returns all unconfirmed transactions for all addresses
            in a given wallet
          content:
            application/json:
              schema:
                properties:
                  transactions:
                    items:
                      properties:
                        announced:
                          type: string
                        checked:
                          type: string
                        is_valid:
                          type: boolean
                        received:
                          type: string
                        transaction:
                          properties:
                            fee:
                              format: int64
                              type: integer
                            inner_hash:
                              type: string
                            inputs:
                              properties:
                                calculated_hours:
                                  format: int64
                                  type: integer
                                coins:
                                  type: string
                                dst:
                                  type: string
                                hours:
                                  format: int64
                                  type: integer
                                uxid:
                                  type: string
                              type: object
                            length:
                              format: int32
                              type: integer
                            outputs:
                              properties:
                                coins:
                                  type: string
                                dst:
                                  type: string
                                hours:
                                  format: int64
                                  type: integer
                                uxid:
                                  type: string
                              type: object
                            sigs:
                              items:
                                type: string
                              type: array
                            txid:
                              type: string
                            type:
                              format: int32
                              type: integer
                          type: object
                    type: array
        default:
          $ref: '#/components/schemas/genericError'
      summary: Returns returns all unconfirmed transactions for all addresses in a
        given wallet.
  /api/v1/block:
    get:
      description: 'Returns a block by hash or seq. Note: only one of hash or seq
        is allowed'
      operationId: block
      parameters:
      - in: query
        description: include verbose
        name: verbose
        schema:
          default: true
          type: boolean
      - in: query
        name: hash
        schema:
          type: string
      - in: query
        name: seq
        schema:
          type: integer
      responses:
        "200":
          description: BlockVerbose represents a readable block with verbose data.
          content:
            application/json:
              schema:
                oneOf:
                - $ref: '#/components/schemas/block'
                - $ref: '#/components/schemas/blockVerbose'
        default:
          $ref: '#/components/schemas/genericError'